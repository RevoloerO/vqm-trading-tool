import{r as e,j as s}from"./vendor-react-CTd1lJGF.js";import{c as l}from"./calculator-utils-D6XIt9t1.js";import{F as a,B as r}from"./FormInput-Bt1utgF7.js";import{E as t}from"./ErrorMessage-Bc4J8QHo.js";import"./vendor-6ULW7vKx.js";function c(){const[c,n]=e.useState(""),[u,i]=e.useState(""),[o,d]=e.useState(""),[m,p]=e.useState(""),[h,j]=e.useState(null),[x,f]=e.useState(null),[v,N]=e.useState(!1),[b,S]=e.useState(null),g=e.useRef(null),P=e.useRef(null),y=e.useRef(null),k=e.useRef(null);return e.useEffect(()=>{if(!b)return;const e={accountSize:g,riskPercent:P,entryPrice:y,stopLoss:k}[b];e&&e.current&&e.current.focus()},[b]),s.jsxs("div",{className:"calculator-card",children:[s.jsxs("div",{className:"calculator-header",children:[s.jsx("h2",{className:"calculator-title",children:"Position Size Calculator"}),s.jsx("p",{className:"calculator-subtitle",children:"Calculate optimal position sizing based on your risk tolerance"})]}),s.jsxs("form",{className:"calculator-form",onSubmit:e=>{e.preventDefault(),(async()=>{N(!0),S(null),await new Promise(e=>setTimeout(e,100));const e=l({accountSize:c,riskPercent:u,entryPrice:o,stopLoss:m});e.success?(j(e.data),f(null),S(null)):(j(null),f(e.error),S(e.field||null)),N(!1)})()},children:[s.jsx(a,{ref:g,label:"Account Size",value:c,onChange:e=>n(e.target.value),placeholder:"10000",prefix:"$",required:!0}),s.jsx(a,{ref:P,label:"Risk Percent",value:u,onChange:e=>i(e.target.value),placeholder:"2",step:"0.1",suffix:"%",required:!0}),s.jsx(a,{ref:y,label:"Entry Price",value:o,onChange:e=>d(e.target.value),placeholder:"50.00",step:"0.01",prefix:"$",required:!0}),s.jsx(a,{ref:k,label:"Stop Loss",value:m,onChange:e=>p(e.target.value),placeholder:"48.00",step:"0.01",prefix:"$",required:!0}),s.jsxs("div",{className:"button-group",children:[s.jsx(r,{type:"submit",variant:"primary",disabled:v,children:v?"Calculating...":"Calculate Position"}),s.jsx(r,{type:"button",onClick:function(e){e&&e.preventDefault&&e.preventDefault(),n(""),i(""),d(""),p(""),j(null),f(null)},variant:"secondary",disabled:v,children:"Clear"})]})]}),h&&s.jsxs("div",{className:"results-card success",children:[s.jsx("h3",{className:"results-title",children:"Results"}),s.jsxs("div",{className:"results-grid",children:[s.jsxs("div",{className:"result-item",children:[s.jsx("span",{className:"result-label",children:"Shares to Buy"}),s.jsx("span",{className:"result-value primary",children:h.shares})]}),s.jsxs("div",{className:"result-item",children:[s.jsx("span",{className:"result-label",children:"Position Value"}),s.jsxs("span",{className:"result-value",children:["$",h.positionValue]})]}),s.jsxs("div",{className:"result-item",children:[s.jsx("span",{className:"result-label",children:"Dollar Risk"}),s.jsxs("span",{className:"result-value risk",children:["$",h.riskAmount]})]}),s.jsxs("div",{className:"result-item",children:[s.jsx("span",{className:"result-label",children:"Risk Per Share"}),s.jsxs("span",{className:"result-value",children:["$",h.riskPerShare]})]}),h.percentOfAccount&&s.jsxs("div",{className:"result-item",children:[s.jsx("span",{className:"result-label",children:"% of Account"}),s.jsxs("span",{className:"result-value",children:[h.percentOfAccount,"%"]})]})]})]}),s.jsx(t,{message:x})]})}export{c as default};
